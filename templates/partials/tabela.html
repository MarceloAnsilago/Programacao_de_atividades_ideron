{% load extra_filters %}
<table class="table table-hover table-striped align-middle">
    <thead class="table-dark">
        <tr>
            {% for coluna in colunas|split:"," %}
                <th>{{ coluna }}</th>
            {% endfor %}
        </tr>
    </thead>
    <tbody>
        {% for obj in objetos %}
            <tr>
                {% for campo in campos|split:"," %}
                    <td>
                        {% if campo == "status" %}
                            {% if obj|attr:campo == "Ativo" %}
                                <span class="badge bg-success">Ativo</span>
                            {% elif obj|attr:campo == "Inativo" %}
                                <span class="badge bg-danger">Inativo</span>
                            {% else %}
                                <span class="badge bg-secondary">{{ obj|attr:campo }}</span>
                            {% endif %}
                        {% else %}
                            {{ obj|attr:campo }}
                        {% endif %}
                    </td>
                {% endfor %}
                {% if acoes %}
                    <td>
                        <div class="d-flex align-items-center gap-2">
                            <a href="{% url 'servidor_editar' obj.id %}" class="btn btn-sm btn-warning d-flex align-items-center gap-1" title="Editar">
                                <i class="bi bi-pencil"></i> Editar
                            </a>
                            <a href="{% url 'servidor_inativar' obj.id %}" class="btn btn-sm btn-danger d-flex align-items-center gap-1" title="Inativar"
                               onclick="return confirm('Tem certeza que deseja inativar?')">
                                <i class="bi bi-slash-circle"></i> Inativar
                            </a>
                        </div>
                    </td>
                {% endif %}
            </tr>
        {% empty %}
            <tr>
                <td colspan="{{ colunas|split:","|length }}" class="text-center">Nenhum registro encontrado.</td>
            </tr>
        {% endfor %}
    </tbody>
</table>